#  Тестовое задание №2: Забронировать условный отель

**Задача:** 

1. Изучите документацию API
2. Вам необходимо написать позитивные и негативные API тесты, которые представлены на странице документации.
3. Кроме того, параметризируйте и добавьте фикстуры в тех местах, где это возможно по вашему мнению. 
4. Итоговую отчетность отобразить в Allure Framework.

**Документация:** [API](https://restful-booker.herokuapp.com/apidoc/index.html)

## Клонирование проекта из GitHub:
**Перед клонированием проекта нужно:**
1. Установить на компьютер PyCharm Community Edition (обратить внимание, версия PyCharm бесплатная, НЕ Professional) - [pycharm](https://www.jetbrains.com/pycharm/download/?section=windows).
   В других средах разработки (например, Visual Studio Code) наблюдаются проблемы с чтением некоторых декораторов,
   поэтому другую среду разработки использовать не рекомендуется. 
2. Перейти в репозиторий с автотестами - [Автотесты](https://github.com/Jarib4ik/CreateBooking)
3. Нажать на кнопку **"Code"** и скопировать ссылку **"Clone with HTTPS"**.
4. Открыть PyCharm на этапе создания проекта (окно Welcome to PyCharm) и нажать на кнопку **"Get from VCS"**.
5. В поле **"URL"** вставить скопированную ссылку из Gitlab (ссылка будет выглядеть так - https://github.com/Jarib4ik/CreateBooking.git) 
   и нажать на кнопку **"Clone"**.

## Установка Python и зависимостей:
1. В терминале PyCharm ввести команду `python --version` и убедиться, что установлена версия Python 3.10. Так как все
   автотесты написаны на этой версии, то на старых версиях работа тестов не гарантирована.
2. Если Python не установлен, нужно скачать установочный файл по ссылке - [python](https://www.python.org/downloads/).
   ОБРАТИТЬ ВНИМАНИЕ: при установке Python нужно поставить чекбокс в пункте **"Add Python 3.12 to PATH**" для установки переменной окружения.
3. Для создания виртуального окружения в терминале PyCharm ввести команду `python3 -m venv venv` (для Linux и Windows),
   если команда `python3 -m venv venv` не срабатывает, воспользоваться командой `python -m venv venv`; для активации
   виртуального окружения - `venv\Scripts\activate.bat`(для Windows), `source venv/bin/activate` (для Linux).
4. Для установки зависимостей из файла requirements.txt в терминале PyCharm ввести команду `pip install -r requirements.txt`.

## Локальный запуск автотестов:
1. **ВАЖНО:** перед каждым запуском тестов нужно делать **pull из ветки master**, для актуальных изменений. Как его сделать:
   - В Pycharm нажать на кнопку **"Main Menu"** в виде "бутерброда".
   - В появившейся панели навигации нажать на **"Git"**.
   - В открывшемся меню нажать на **"Pull"**.
   - В окне **"Pull to"** выбрать ветку **master** из выпадающего списка.
   - Нажать на кнопку **"Pull"** и дождаться пока загрузятся изменения.
2. Для завпуска автотестов необходимо выполните команду `pytest tests`

## flake8 линтер с использованием pre-commit
- Выполнить `pip install -r requirements-dev.txt`
- Выполнить `pre-commit install`
- Подробнее о pre-commit, [документация](https://pre-commit.com/)
- Если вам необходимо игнорировать ошибку flake8, [документация](https://flake8.pycqa.org/en/3.9.0/user/violations.html)
- Для того чтобы настроить flake8 в PyCharm, [статья](https://tirinox.ru/flake8-pycharm/)
***

## Структура
```
.
├── data - тестовые данные
├── helpers - вспомогательные функции для тесто
├── logs - логи запуска тестов
└── tests - тесты
```